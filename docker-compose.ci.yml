# CI-specific overrides for docker-compose.yml
# ES 8.x requires proper ownership of its data directory, which is problematic
# with bind mounts in CI. Use tmpfs for ephemeral storage (no data persistence needed).

services:
  newsblur_db_elasticsearch:
    # Use tmpfs for ES data dir to avoid permission issues with bind mounts
    tmpfs:
      - /usr/share/elasticsearch/data
    volumes:
      # Only mount config file, not data directory
      - ./config/elasticsearch/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml
